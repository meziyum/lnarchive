{"version":3,"file":"js/novel.js","mappings":";YAEA,IACIA,EADWC,OAAOC,SAASC,OACCC,OAAO,6BACnCC,EAAOJ,OAAOC,SAASI,SACvBC,EAAOF,EAAKG,UAAU,EAAGH,EAAKI,OAAO,GACzCF,EAAOA,EAAKC,UAAUD,EAAKG,YAAY,KAAK,GAG5C,IACIC,EAAUC,SAASC,cAAc,aAAaC,aAAa,MAE/DC,SAASC,OAAQ,wCAAgBJ,SAASK,eAAe,iBAEpCL,SAASK,eAAe,gBAE7CC,MAAOlB,EAAiB,iBAAiBW,GACpCQ,MAAM,SAAAC,GAAG,OAAIA,EAAIC,MAAM,IACvBF,MAAM,SAAAG,GACHC,QAAQC,IAAIb,GACZY,QAAQC,IAAIF,EAChB,IAQJ,IAFA,IAAIG,EAAeb,SAASc,uBAAuB,eAE1CC,EAAE,EAAGA,EAAEF,EAAahB,OAAQkB,IAEjCF,EAAaE,GAAGC,iBAAiB,SAAS,WAEtCV,MAAOlB,EAAiB,WAAW6B,KAAKC,GAAG,uDACtCX,MAAM,SAAAC,GAAG,OAAIA,EAAIC,MAAM,IACvBF,MAAM,SAAAG,GAEHV,SAASC,cAAc,gBAAgBkB,OAAOT,EAAKU,UAAU,oBAAoB,GAAKC,WACtFrB,SAASC,cAAc,eAAeqB,UAAYZ,EAAKa,MAAMC,SAC7DxB,SAASK,eAAe,iBAAiBiB,UAAYZ,EAAKe,QAAQD,SAIlE,IAFA,IAAIE,EAAchB,EAAKiB,OAAO,WAErBZ,EAAE,EAAGA,EAAEW,EAAY7B,OAAQkB,IAAK,CAErC,IAAIa,EAAkBlB,EAAKU,UAAU,WAAWL,GAC1Cc,EAAO7B,SAASK,eAAeqB,EAAYX,GAAGe,SAAS,eAE7D,GAAY,MAARD,EAAJ,CAGAA,EAAKP,UAAU,GAEf,IAAI,IAAIS,EAAE,EAAGA,EAAEH,EAAgB/B,OAAQkC,IAAK,CAExC,IAAMC,EAAUhC,SAASiC,cAAc,KACvCD,EAAQE,UAAYN,EAAgBG,GAAGI,KACvCH,EAAQI,KAAOR,EAAgBG,GAAGM,KAClCR,EAAKS,OAAON,GACZH,EAAKS,OAAOtC,SAASiC,cAAc,MACvC,CAXQ,CAYZ,CAEAtB,QAAQC,IAAIF,GACZrB,OAAOkD,SAAS,EAAG,EACvB,GACN,IAKN,IAAIC,EAAaxC,SAASK,eAAe,eAAeoC,SAAS5C,OAEjEG,SAASK,eAAe,cAAc6B,UAAW,aAAa1C,OAAOgD","sources":["webpack://lnarchive/./src/js/post-type/novel.js"],"sourcesContent":["\r\n//get the Window information\r\nvar site_url = window.location.origin;\r\nvar json_request_url = site_url.concat(\"/wordpress/wp-json/wp/v2/\");\r\nvar path = window.location.pathname;\r\nvar slug = path.substring(0, path.length-1);\r\nslug = slug.substring(slug.lastIndexOf(\"/\")+1);\r\n\r\n//Get the post information\r\nvar post_type = \"novel\";\r\nvar post_id = document.querySelector('.main-row').getAttribute('id');\r\n\r\nReactDOM.render( <h2> Test </h2>,document.getElementById(\"reviews-list\") );\r\n\r\nconst comments_div = document.getElementById(\"reviews-list\");\r\n\r\nfetch( json_request_url+\"comments?post=\"+post_id )\r\n    .then( res => res.json())\r\n    .then( data => {\r\n        console.log(post_id)\r\n        console.log(data)\r\n    })\r\n\r\n/*\r\n    Volumes Information Update\r\n*/\r\n\r\nlet volumes_list = document.getElementsByClassName(\"volume-link\"); //Get all the volumes of the novel\r\n\r\nfor( var i=0; i<volumes_list.length; i++){ //Loop through all the volumes\r\n\r\n    volumes_list[i].addEventListener('click', function() { //Listen to the click event on the volumes\r\n\r\n        fetch( json_request_url+\"volumes/\"+this.id+\"?_embed&_fields=title,excerpt,featured_media,_links\" ) //Fetch the JSON data\r\n            .then( res => res.json()) //The fetch API Response\r\n            .then( data => { //The fetch api data\r\n                \r\n                document.querySelector(\".novel-cover\").srcset=data._embedded['wp:featuredmedia']['0'].source_url; //Update the Novel Cover\r\n                document.querySelector(\".page-title\").innerHTML = data.title.rendered; //Update the Novel Title\r\n                document.getElementById(\"novel-excerpt\").innerHTML = data.excerpt.rendered; //Update the Novel Desc\r\n                \r\n                var novel_terms = data._links['wp:term']; //Get all the taxonomies of the novel\r\n\r\n                for( var i=0; i<novel_terms.length; i++) { //Loop through all the taxonomimes\r\n\r\n                    var taxonomy_values = data._embedded['wp:term'][i]; //Get Taxonomy terms\r\n                    const node = document.getElementById(novel_terms[i].taxonomy+\"_info_value\"); //Get the taxonomy value parent node\r\n\r\n                    if( node == null) //If the node doesnt exist\r\n                    continue;\r\n\r\n                    node.innerHTML=\"\"; //Remove all the child elements since new elements will replace them\r\n                    \r\n                    for(var j=0; j<taxonomy_values.length; j++) { //Loop through all the taxonomy terms\r\n                        \r\n                        const tax_val = document.createElement(\"a\"); //Create an anchor elements\r\n                        tax_val.innerText = taxonomy_values[j].name; //Assign the innerText to the anchor tag\r\n                        tax_val.href = taxonomy_values[j].link; //Assign the Link to the anchor tag\r\n                        node.append(tax_val); //Append the anchor tag to the parent node\r\n                        node.append(document.createElement(\"br\")); //Append a line break so the values appear in different lines\r\n                    }\r\n                }\r\n\r\n                console.log(data)\r\n                window.scrollTo(0, 0); //Scroll to the top\r\n            })\r\n      }\r\n    );\r\n}\r\n\r\n//Novel Info\r\nvar volumes_no = document.getElementById(\"volume-list\").children.length;\r\n\r\ndocument.getElementById(\"volumes-no\").innerText= \"Volumes - \".concat(volumes_no)  //Update the number of volumes information"],"names":["json_request_url","window","location","origin","concat","path","pathname","slug","substring","length","lastIndexOf","post_id","document","querySelector","getAttribute","ReactDOM","render","getElementById","fetch","then","res","json","data","console","log","volumes_list","getElementsByClassName","i","addEventListener","this","id","srcset","_embedded","source_url","innerHTML","title","rendered","excerpt","novel_terms","_links","taxonomy_values","node","taxonomy","j","tax_val","createElement","innerText","name","href","link","append","scrollTo","volumes_no","children"],"sourceRoot":""}